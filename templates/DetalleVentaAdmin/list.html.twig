{#

This file is part of the Sonata package.

(c) Thomas Rabaix <thomas.rabaix@sonata-project.org>

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.

#}

{#
    EN ESTA PLANTILLA DIBUJO EL FORMULARIO Y LUEGO
    LO REENVIO AL CONTROLLER DE VENTA. PARA AGREGAR PRODUCTOS
#}

{% extends '@SonataAdmin/CRUD/base_list.html.twig' %}

{% block navbar_title %}
    {#{ dump(admin.isChild )}#}
    {% if admin.isChild %}
        {{admin.parent.subject}}
    {% endif %}
{% endblock %}

{% block actions %}    
{% endblock %}

{% block custom %}
{#
 SE RECIBE EN EL LISTADO EL PARAMETRO Y SE LO PASA AL FORMULARIO.
#}
{{ render(
            path('admin_app_venta_agregar_producto',{'id': app.request.get('id') })
          ) 
}}
{% endblock %}

{% block sonata_admin_content %}
 {% if admin.isChild %}
    {{ block('custom') }}
 {% endif %}
 {{ parent() }}     
     {#% if app.request.get('filter')['detalle_debe'] is defined  %#}
        {#{ dump(app.request.get('filter')['detalle_debe']['value']) }#}     
        {#{ admin.TotalDetalleDebe('1') }#}
    {#% endif %#}
{% endblock %}