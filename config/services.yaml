# This file is the entry point to configure your own services.
# Files in the packages/ subdirectory configure your dependencies.

# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices.html#use-parameters-for-application-configuration
parameters:

services:
    # default configuration for services in *this* file
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    # makes classes in src/ available to be used as services
    # this creates a service per class whose id is the fully-qualified class name
    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Entity/'
            - '../src/Kernel.php'

    # add more service definitions when explicit configuration is needed
    # please note that last definitions always *replace* previous ones

    admin.user:
        class: App\Admin\UserAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\User, controller: ~, manager_type: orm, group: admin, label: User }

    admin.cliente:
        class: App\Admin\ClienteAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\Cliente, controller: ~, manager_type: orm, group: admin, label: Cliente }

    admin.proveedor:
        class: App\Admin\ProveedorAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\Proveedor, controller: ~, manager_type: orm, group: admin, label: Proveedor, show_in_dashboard: false }

    admin.producto:
        class: App\Admin\ProductoAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\Producto, controller: ~, manager_type: orm, group: admin, label: Producto }

    admin.venta:
        class: App\Admin\VentaAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\Venta, controller: App\Controller\VentaAdminController, manager_type: orm, group: admin, label: Venta }
        calls:
            - [addChild, ['@admin.detalle_venta', 'venta']]
            - [setTemplate, ['edit', 'VentaAdmin/edit.html.twig']]            

    admin.detalle_venta:
        class: App\Admin\DetalleVentaAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\DetalleVenta, controller: App\Controller\DetalleVentaAdminController, manager_type: orm, group: admin, label: DetalleVenta, show_mosaic_button: false }    
        calls:
            - [setTemplate, ['list', 'DetalleVentaAdmin/list.html.twig']]

    admin.cobro_cliente:
        class: App\Admin\CobroClienteAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\CobroCliente, controller: ~, manager_type: orm, group: admin, label: CobroCliente, show_in_dashboard: false }

    admin.cuenta_corriente_cliente:
        class: App\Admin\CuentaCorrienteClienteAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\CuentaCorrienteCliente, controller: ~, manager_type: orm, group: admin, label: CuentaCorrienteCliente, show_in_dashboard: false }

    admin.caja:
        class: App\Admin\CajaAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\Caja, controller: ~, manager_type: orm, group: admin, label: Caja, show_in_dashboard: false }

    admin.compra:
        class: App\Admin\CompraAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\Compra, controller: ~, manager_type: orm, group: admin, label: Compra, show_in_dashboard: false }

    admin.detalle_compra:
        class: App\Admin\DetalleCompraAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\DetalleCompra, controller: ~, manager_type: orm, group: admin, label: DetalleCompra, show_in_dashboard: false }

    admin.pago_proveedor:
        class: App\Admin\PagoProveedorAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\PagoProveedor, controller: ~, manager_type: orm, group: admin, label: PagoProveedor, show_in_dashboard: false }

    admin.cuenta_corriente_proveedor:
        class: App\Admin\CuentaCorrienteProveedorAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\CuentaCorrienteProveedor, controller: ~, manager_type: orm, group: admin, label: CuentaCorrienteProveedor,show_in_dashboard: false }

    admin.movimiento_stock:
        class: App\Admin\MovimientoStockAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\MovimientoStock, controller: ~, manager_type: orm, group: admin, label: MovimientoStock,show_in_dashboard: false }

    admin.movimiento:
        class: App\Admin\MovimientoAdmin
        tags:
            - { name: sonata.admin, model_class: App\Entity\Movimiento, controller: ~, manager_type: orm, group: admin, label: Movimiento }
